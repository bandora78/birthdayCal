<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>תיאום אירועים - מנהל אירועים בגן</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Add Flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>
<body>
    <header>
        <nav>
            <button class="hamburger" id="hamburgerBtn" aria-label="תפריט" aria-expanded="false">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul id="navList">
                <li><a href="index.html">דף הבית</a></li>
                <li id="registerGardenLink"><a href="register.html">רישום גן חדש</a></li>
                <li id="childrenListLink" style="display: none;"><a href="children.html">רשימת הילדים בגן</a></li>
                <li><a href="events.html">לוח אירועים</a></li>
                <li><a href="birthday-party.html">תיאום אירועים</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <h1>תיאום אירועים</h1>
        
        <div id="gardenInfoAndLink" style="display: none; margin-bottom: 1.5em; text-align: center;">
            <h2 id="gardenNameDisplay"></h2>
            <p>שלח להורים את הקישור הבא כדי שיוכלו לרשום את ילדיהם לגן:</p>
            <input id="parentRegLink" type="text" readonly style="width:90%;max-width: 400px; text-align:left;direction:ltr;" />
            <button id="copyGardenLinkBtn" class="feature-button" type="button" style="font-size:0.95em; padding:0.4em 1.2em; margin-top: 1em;">📋 העתק ושליחה בוואטסאפ</button>
            <span id="copyGardenLinkMsg" style="color:green;display:none; margin-top: 0.5em; display: block;">הקישור הועתק!</span>
        </div>

        <div class="event-form-container">
            <form id="eventForm" class="event-form">
                <div class="form-group">
                    <label for="eventType">סוג האירוע:</label>
                    <select id="eventType" name="eventType" required>
                        <option value="birthday">יום הולדת</option>
                        <option value="other">אירוע אחר</option>
                    </select>
                </div>

                <div id="childSelectGroup" class="form-group">
                    <label for="childSelect">בחר ילד:</label>
                    <select id="childSelect" name="childSelect">
                        <option value="">בחר ילד</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="eventDate">תאריך האירוע:</label>
                    <input type="text" id="eventDate" name="eventDate" required>
                </div>

                <div class="form-group">
                    <label for="location">מיקום:</label>
                    <select id="location" name="location" required>
                        <option value="kindergarten">בגן</option>
                        <option value="other">מיקום אחר</option>
                    </select>
                </div>

                <div id="otherLocationDiv" class="form-group" style="display: none;">
                    <label for="otherLocation">פרטי המיקום:</label>
                    <input type="text" id="otherLocation" name="otherLocation">
                </div>

                <div class="form-group">
                    <label for="notes">הערות:</label>
                    <textarea id="notes" name="notes" rows="3"></textarea>
                </div>

                <button type="submit" class="feature-button">שמור אירוע</button>
            </form>
        </div>

        <div class="events-lists">
            <div class="parties-list">
                <h2>ימי הולדת קרובים</h2>
                <div id="partiesList" class="events-grid"></div>
            </div>

            <div class="upcoming-events">
                <h2>אירועים קרובים אחרים</h2>
                <div id="upcomingEventsList" class="events-list"></div>
            </div>
        </div>
    </main>

    <footer>
        <p>© 2024 מנהל אירועים בגן - כל הזכויות שמורות</p>
    </footer>

    <!-- Add Flatpickr JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/he.js"></script>
    <!-- Add Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script type="module" src="js/birthday-party.js"></script>
    <script type="module" src="js/main.js"></script>
</body>
</html> 