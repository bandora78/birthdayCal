<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>רשימת הילדים - מנהל אירועים בגן</title>
    <link rel="stylesheet" href="styles.css">
    <!-- הוספת Flatpickr ללוח שנה -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_blue.css">
</head>
<body>
    <header>
        <nav>
            <button class="hamburger" id="hamburgerBtn" aria-label="תפריט" aria-expanded="false">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul id="navList">
                <li><a href="index.html">דף הבית</a></li>
                <li id="registerGardenLink"><a href="register.html">רישום גן חדש</a></li>
                <li id="childrenListLink" style="display: none;"><a href="children.html">רשימת הילדים בגן</a></li>
                <li><a href="events.html">לוח אירועים</a></li>
                <li><a href="birthday-party.html">תיאום אירועים</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <h1>רשימת הילדים בגן</h1>

        <div id="gardenInfoAndLink" style="display: none; margin-bottom: 1.5em; text-align: center;">
            <h2 id="gardenNameDisplay"></h2>
            <p>שלח להורים את הקישור הבא כדי שיוכלו לרשום את ילדיהם לגן:</p>
            <input id="parentRegLink" type="text" readonly style="width:90%;max-width: 400px; text-align:left;direction:ltr;" />
            <button id="copyGardenLinkBtn" class="feature-button" type="button" style="font-size:0.95em; padding:0.4em 1.2em; margin-top: 1em;">📋 העתק ושליחה בוואטסאפ</button>
            <span id="copyGardenLinkMsg" style="color:green;display:none; margin-top: 0.5em; display: block;">הקישור הועתק!</span>
        </div>

        <div class="children-container">
            <button id="addChildBtn" class="feature-button" style="margin-bottom: 1em;">הוסף ילד חדש</button>
            <table class="children-table">
                <thead>
                    <tr>
                        <th>שם הילד</th>
                        <th>שם ההורה</th>
                        <th>תאריך לידה</th>
                        <th>פעולות</th>
                    </tr>
                </thead>
                <tbody id="childrenTableBody"></tbody>
            </table>
        </div>
    </main>

    <!-- Modal לטופס הוספה/עריכת ילד -->
    <div id="childFormModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">הוספת ילד חדש</h2>
                <span class="close">&times;</span>
            </div>
            <form id="childForm" class="child-form">
                <input type="hidden" id="childId">
                <div class="form-group">
                    <label for="childName">שם הילד:</label>
                    <input type="text" id="childName" required>
                </div>
                <div class="form-group">
                    <label for="parentName">שם ההורה:</label>
                    <input type="text" id="parentName" required>
                </div>
                <div class="form-group">
                    <label for="birthDate">תאריך לידה:</label>
                    <input type="text" id="birthDate" required>
                </div>
                <div class="form-actions">
                    <button type="submit" class="feature-button">שמור</button>
                    <button type="button" class="cancel-button" onclick="window.closeModal()">ביטול</button>
                </div>
            </form>
        </div>
    </div>

    <footer>
        <p>© 2024 מנהל אירועים בגן - כל הזכויות שמורות</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/he.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        window.supabase = supabase;
    </script>
    <script src="js/main.js" type="module" defer></script>
    <script src="js/children.js" type="module" defer></script>
</body>
</html> 